# json-interpolate
Very simple JSON recursive interpolation function

It supports the following interpolations:

- RandomFloat: a random float from a given offset with a given range
- Moment: a moment generated by moment.js with a given format  
- ConvertType: convert a given value to a given type
- Eval: evaluates to the output of the given javascript function 

```
interpolate(json, depth)
```

```json``` A JSON object containing the nodes to be interpolated, if any.
```depth``` If provided, the maximum depth to interpolate. This allows to defer evaluation of, for example, ```moment.js``` timestamps to a later point in time. 

## Examples

### RandomFloat

```
interpolate({ "Fn::RandomFloat": { min: 10, range: 20 } })
```

returns (for example): ```12.3523```

### Moment

```
interpolate({ "Fn::Moment": { format: "x" }} )
```

returns (for example): ```"1528459872878"```

### ConvertType

```
interpolate({ "Fn::ConvertType": { type: "Number", value: "1528459872878" }} )
```

returns ```1528459872878```

### Eval

```
interpolate({ "Fn::Eval": "[1,4,9].map(n=>n*n)"} )
```

returns

```[1,4,9]``` 

## TODO
- This package stems from a refactoring of a higher level package in which is was implicitly tested, therefore are no separate tests yet
  

